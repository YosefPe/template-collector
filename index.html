<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Template Collector | Blings</title>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/tailwindcss/2.2.19/tailwind.min.css" rel="stylesheet">
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@3/dist/email.min.js"></script>
    <!-- Add HubSpot Script -->
    <script src="https://js.hsforms.net/forms/v2.js"></script>
    <style>
        body {
            background-color: #1B1B1B;
            color: #FCFCFC;
        }
        .button-gradient {
            background: linear-gradient(90deg, #DA458F 0%, #DA458F 100%);
        }
        .input-dark {
            background: #2D2D2D;
            border: 1px solid #3D3D3D;
        }
    </style>
</head>
<body>
    <div class="max-w-md mx-auto py-12 px-4">
        <div class="text-center mb-12">
            <h1 class="text-4xl font-bold mb-4">
                Template Collector
                <span class="block text-[#DA458F]">by Blings</span>
            </h1>
            <p class="text-gray-400 mt-2">Share your HubSpot templates to create interactive videos</p>
        </div>

        <div class="bg-[#2D2D2D] rounded-lg p-8">
            <!-- HubSpot Form will be loaded here -->
            <div id="hubspot-form"></div>
        </div>

        <div id="statusMessage" class="mt-4 text-center hidden">
            <p class="text-green-400">Processing...</p>
        </div>

        <!-- Security Notice -->
        <div class="mt-8 text-center text-sm text-gray-400">
            <p>Your data is transmitted securely using enterprise-grade encryption.</p>
        </div>
    </div>

    <script>
        hbspt.forms.create({
            region: "na1",
            portalId: "YOUR_PORTAL_ID", // We'll need your HubSpot portal ID
            formId: "YOUR_FORM_ID",     // We'll create a form in HubSpot
            target: "#hubspot-form",
            onFormSubmit: function($form) {
                // Handle form submission
                const statusMessage = document.getElementById('statusMessage');
                statusMessage.classList.remove('hidden');
                statusMessage.innerHTML = '<p class="text-green-400">Processing your request...</p>';
                
                // Send email notification using EmailJS
                emailjs.init("pg5sAN7sjaiGSj43W");
                emailjs.send(
                    "service_vzrvo2d",
                    "template_bbzu6uq",
                    {
                        company_name: $form.find('input[name="company"]').val(),
                        email: $form.find('input[name="email"]').val(),
                        template_count: "Submission received",
                    }
                ).then(
                    function(response) {
                        statusMessage.innerHTML = '<p class="text-green-400">Submission successful! Check your email for details.</p>';
                    },
                    function(error) {
                        statusMessage.innerHTML = '<p class="text-red-400">Error sending notification. Please try again.</p>';
                    }
                );
            }
        });
    </script>
</body>
</html>
